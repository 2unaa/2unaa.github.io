<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ESA Map</title>
    <link rel="stylesheet" type="text/css" href="/css/map.css">
    <script src= "https://maps.googleapis.com/maps/api/js?key=AIzaSyBpjOmBnLrw3wnqVWvpnROPvQp3MSGYXgE&libraries=places&callback=initMap" async></script>
</head>
<body>
    <h1>Adopting or buying your animal support pet.</h1>

    <h2>Enter an Address:
    <input type="text" id="addressInput" placeholder="333 S Twin Oaks Valley Rd" autocomplete="on">
        <button onclick="geocodeAddress()">Submit</button> 
        </h2>

        <div id ="map">  

            <script>
            var map;
            var geocoder; 
                // Initialize and add the map 
                function initMap() { 
                    map = new google.maps.Map(document.getElementById('map'), { 
                        zoom: 15,
                        center: {lat: 33.131710, lng: -117.164589 },
                    }); 
                    geocoder = new google.maps.Geocoder();
                    var input = document.getElementById('addressInput');
                    var autocomplete = new google.maps.places.Autocomplete(input);
                    //input.addEventListener('click', geocodeAddress);
                }

                function geocodeAddress(){
                    var address = document.getElementById('addressInput').value;
                    geocoder.geocode({'address' :address}, function(results, status){
                        if(status === 'OK'){
                        map.setCenter(results[0].geometry.location);
                        var marker = new google.maps.Marker({
                        map: map,
                        position: results[0].geometry.location,
                        });
                    }
                    else{
                        alert('Address was not found');
                    }
                });
                }
            </script> 
        </div>
</body>
</html>